**Задание 1**
# Блок А: Базовые операции выборки и модификации
1. Выберите всех активных пользователей, отсортированных по фамилии.
2. Выберите всех пользователей, которые ни разу не логинились (last_login IS
NULL).
3. Обновите email для пользователя с определенным username.
4. Деактивируйте (is_active = FALSE) всех пользователей, зарегистрированных
более года назад (используйте DATE_SUB или INTERVAL).
# Блок B: Работа с JOIN (ключевой блок для понимания RBAC)
5. Выведите список всех пользователей с их ролями. Формат: Имя Фамилия | Роль1,
Роль2. (Потребуется JOIN + GROUP_CONCAT).
6. Выведите список всех прав для конкретной роли (например, editor). Формат:
Название роли | Код права | Описание права.
7. Запрос-проверка: Проверьте, имеет ли конкретный пользователь (по email или id) право
post.publish. Для этого нужно пройти по цепочке: users -> user_roles -> roles
-> role_permissions -> permissions. Запрос должен вернуть строку, если право
есть, и пустой результат, если его нет.
# Блок C: Группировка и анализ
8. Подсчитайте количество пользователей в каждой роли. Выведите название роли и
количество.
9. Выведите топ-3 самых распространенных права среди ролей (права, которые выданы
наибольшему количеству ролей).
10. Найдите всех пользователей, которые имеют роль author, но не имеют роль editor.
# Блок D: Задание на 5+
11. Создайте представление (VIEW) v_user_permissions, которое для каждого
активного пользователя будет агрегировать все его права (через его роли) в одно поле. Это
"профиль прав" пользователя.
12. Напишите запрос, который удаляет (или выводит) пользователей, у которых нет ни одной
роли. (Проверка целостности данных).
